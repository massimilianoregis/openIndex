 <script>
function userCtrl($scope,$routeParams)
	{	
	$scope.user=window.user;
	try{$scope.user.jsondata = atob(window.user.jsondata);}catch(e){} 	
	$scope.save=function()
		{
		var data = $.parseJSON(JSON.stringify($scope.user));
			data.jsondata = btoa(data.jsondata);
		$.ajax(
			{
			url:"/community/user/save",
			type:"POST",
			data:JSON.stringify(data),					
		    processData: false,
		    contentType: 'application/json',
		    success:function(data)
		    	{
		    	
		    	}
			})		
		}
	/*
	$scope.cities = [
        { "value": 1 , "text": "Amsterdam"   , "continent": "Europe"    },
        { "value": 4 , "text": "Washington"  , "continent": "America"   },
        { "value": 7 , "text": "Sydney"      , "continent": "Australia" },
        { "value": 10, "text": "Beijing"     , "continent": "Asia"      },
        { "value": 13, "text": "Cairo"       , "continent": "Africa"    }
      ];

      $scope.queryCities = function(query) {
        return $http.get('cities.json');
      };

      $scope.getTagClass = function(city) {
        switch (city.continent) {
          case 'Europe'   : return 'badge badge-info';
          case 'America'  : return 'label label-important';
          case 'Australia': return 'badge badge-success';
          case 'Africa'   : return 'label label-inverse';
          case 'Asia'     : return 'badge badge-warning';
        }
     */ 
	}
	
	$(function()
		{
		
		 $('input[data-role=tagsinput]').tagsinput();
		})
</script>
<div ng-controller="userCtrl">
			 <div class="row">
			 	<div class="col-lg-6">
                    <a href="#users">Users</a>
                    
                </div>	 	
                <div class="col-lg-12">
                    <h1 class="page-header">User</h1>
                    
                </div>
                <!-- /.col-lg-12 -->
            </div>
            
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-6">
                	<div class="form-group">
                		<label class="control-label">First Name</label>
                		<input class="form-control" type="text" placeholder="FirstName" ng-model="user.firstName">
                	</div>
                	<div class="form-group">
                		<label class="control-label">Last Name</label>
                		<input class="form-control" type="text" placeholder="LastName" ng-model="user.secondName">
                	</div>
                	<div class="form-group">
                		<label class="control-label">Password</label>
                		<input class="form-control" type="text" placeholder="Password" ng-model="user.psw">
                	</div>
                	<div class="form-group">
                		<label class="control-label">Mail</label>
                		<input class="form-control" type="text" placeholder="Mail" ng-model="user.mail">
                	</div>
                	<div class="form-group">
                		<label class="control-label">Json</label>
                		<textarea class="form-control" type="text" ng-model="user.jsondata"></textarea>
                	</div>
                	<div class="form-group">
                		<label class="control-label">Tags</label>
                		<input class="form-control" value="Amsterdam,Washington,Sydney,Beijing,Cairo" type="text" data-role="tagsinput"/>
                		<!-- bootstrap-tagsinput
              ng-model="cities"
              typeahead-source="queryCities"
              tagclass="getTagClass"
              itemvalue="value"
              itemtext="text">
            </bootstrap-tagsinput-->
                	</div>
                </div>
            </div>
      		<div class="row">
                <div class="col-lg-6">
                	<div class="form-group">
                		<A ng-click="save()" class="btn btn-success btn-lg">Save</A>
                	</div>
                </div>
            </div>       
</div>